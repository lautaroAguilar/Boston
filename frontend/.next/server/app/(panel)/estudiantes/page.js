(()=>{var e={};e.id=606,e.ids=[606],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},84449:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=n(70260),a=n(28203),s=n(25155),i=n.n(s),l=n(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);n.d(t,o);let d=["",{children:["(panel)",{children:["estudiantes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,6015)),"C:\\Users\\eleya\\Desktop\\develop\\Boston\\frontend\\src\\app\\(panel)\\estudiantes\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,78198)),"C:\\Users\\eleya\\Desktop\\develop\\Boston\\frontend\\src\\app\\(panel)\\layout.jsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,62804)),"C:\\Users\\eleya\\Desktop\\develop\\Boston\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\eleya\\Desktop\\develop\\Boston\\frontend\\src\\app\\(panel)\\estudiantes\\page.jsx"],u={require:n,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(panel)/estudiantes/page",pathname:"/estudiantes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31699:(e,t,n)=>{Promise.resolve().then(n.bind(n,6015))},68651:(e,t,n)=>{Promise.resolve().then(n.bind(n,53607))},81107:(e,t,n)=>{Promise.resolve().then(n.bind(n,78198))},18059:(e,t,n)=>{Promise.resolve().then(n.bind(n,39210))},53607:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(45512),a=n(58009),s=n(18644),i=n(20677),l=n(92627),o=n(30433),d=n(27319),c=n(74167);n(92136);var u=n(62503),p=n(64339),m=n(71066),h=n(16131);let x=h.z.object({first_name:h.z.string().trim().min(3,"El nombre debe contener al menos 3 letras"),last_name:h.z.string().trim().min(3,"El apellido debe contener al menos 3 letras"),email:h.z.string().trim().email("El email debe ser v\xe1lido"),sid:h.z.union([h.z.string().min(1),h.z.literal(""),h.z.null()]).optional(),cost_center_id:h.z.union([h.z.number().int("El ID del centro de costo debe ser un n\xfamero entero"),h.z.literal("")]).refine(e=>""!==e,{message:"Se debe seleccionar una opci\xf3n para asignar el centro de costo"}),sector_id:h.z.union([h.z.number().int("El ID del sector debe ser un n\xfamero entero"),h.z.literal("")]).refine(e=>""!==e,{message:"Se debe seleccionar una opci\xf3n para asignar el sector"})}),f=h.z.object({initial_leveling_date:h.z.string().refine(e=>!isNaN(Date.parse(e)),{message:"La fecha debe ser v\xe1lida"}),language_id:h.z.union([h.z.number().int("El ID del idioma debe ser un n\xfamero entero"),h.z.literal("")]).refine(e=>""!==e,{message:"Se debe seleccionar una opci\xf3n para asignar el idioma"}),module_id:h.z.union([h.z.number().int("El ID del m\xf3dulo debe ser un n\xfamero entero"),h.z.literal("")]).refine(e=>""!==e,{message:"Se debe seleccionar una opci\xf3n para asignar el m\xf3dulo"}),level_id:h.z.union([h.z.number().int("El ID del nivel debe ser un n\xfamero entero"),h.z.literal("")]).refine(e=>""!==e,{message:"Se debe seleccionar una opci\xf3n para asignar el nivel"})});var b=n(2569),v=n(28982),g=n(68211),j=n(10821);let _=[{field:"student_id",headerName:"ID",minWidth:50},{field:"first_name",headerName:"Nombre",minWidth:150,flex:1},{field:"last_name",headerName:"Apellido",minWidth:150,flex:1},{field:"modules",headerName:"M\xf3dulo y nivel",minWidth:150,flex:1},{field:"sid",headerName:"SID",minWidth:150,flex:1},{field:"company_name",headerName:"Empresa",minWidth:150,flex:1},{field:"cost_center_name",headerName:"Centro de Costo",minWidth:150,flex:1},{field:"sector_name",headerName:"Sector",minWidth:150,flex:1}];function y(){let e=(0,g.A)(v.F),{fetchCostCenters:t,fetchSectors:n,sectors:h,costCenters:y}=(0,m.P)(),{setToolbarButtonAction:A,setOpenSnackbar:C,snackbarMessage:z,snackbarErrorMessage:w,selectedCompany:P,fetchModules:D,fetchLanguages:q,fetchLevels:k,languages:E,levels:S,modules:M}=(0,u.M)(),{fetchStudents:N,students:I,createStudent:G,updated:W}=(0,p.j)(),B=(0,i.A)("(max-width:600px)"),[U,R]=(0,a.useState)(!1),[F,H]=(0,a.useState)(!1),[T,V]=(0,a.useState)({first_name:"",last_name:"",email:"",company_id:"",cost_center_id:"",sector_id:"",sid:""}),[L,O]=(0,a.useState)({initial_leveling_date:"",language_id:"",module_id:"",level_id:""}),$=[{label:"Datos Personales",description:"Completa los datos personales del alumno",schema:x,fields:[{name:"first_name",label:"Nombre",required:!0},{name:"last_name",label:"Apellido",required:!0},{name:"email",label:"Email",required:!0,type:"email"},{name:"cost_center_id",label:"Centro de Costo",component:"select",options:P?y.map(e=>({id:e.cost_center_id,label:e.cost_center_name})):[{id:0,label:"No se encontraron centros de costo"}],required:!0},{name:"sector_id",label:"Sector",component:"select",options:P?h.map(e=>({id:e.sector_id,label:e.sector_name})):[{id:0,label:"No se encontraron sectores"}],required:!0}],values:T,setValues:V},{label:"Detalles de Nivelaci\xf3n",schema:f,fields:[{name:"initial_leveling_date",label:"Fecha de Nivelaci\xf3n",type:"date",required:!0},{name:"language_id",label:"Idioma",component:"select",options:E.map(e=>({id:e.id,label:e.name})),required:!0},{name:"module_id",label:"M\xf3dulo",component:"select",options:M.map(e=>({id:e.id,label:e.name})),required:!0},{name:"level_id",label:"Nivel",component:"select",options:S.map(e=>({id:e.id,label:e.name})),required:!0}],values:L,setValues:O}],K=async()=>{let e={...T,...L,company_id:P};await G(e),R(!1)};return(0,r.jsxs)(l.default,{children:[(0,r.jsx)(j.A,{theme:e,children:(0,r.jsx)(b.z,{columns:_,rows:I,getRowId:e=>e.student_id,getEstimatedRowHeight:()=>100,getRowHeight:()=>"auto",sx:{width:"100%","&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:1},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:"22px"}}})}),(0,r.jsx)(o.A,{open:U,onClose:()=>{R(!1)},sx:{height:"100%"},children:(0,r.jsxs)(d.A,{elevation:4,square:!1,sx:{height:"80%",width:"100%",display:"flex",flexDirection:"column",p:2,gap:2,width:B?"90%":"50%",maxWidth:650,maxHeight:600,overflowY:"auto",scrollbarWidth:"thin",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[(0,r.jsx)(c.default,{variant:"h5",children:"Agregar nuevo alumno"}),(0,r.jsx)(s.A,{steps:$,onFinish:K})]})})]})}},39210:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var r=n(45512),a=n(58009),s=n(92627),i=n(74167),l=n(20677),o=n(53333),d=n(26680),c=n(45916),u=n(38031),p=n(70510),m=n(37031),h=n(38884),x=n(20129),f=n(98745),b=n(93791),v=n(71066),g=n(62503),j=n(53088),_=n(75117),y=n(65846);function A({message:e=null,errorMessage:t=null,open:n}){let{setOpenSnackbar:a,setSnackbarMessage:s,setSnackbarErrorMessage:i}=(0,g.M)(),l=()=>{a(!1),s(""),i("")};return(0,r.jsx)(_.A,{open:n,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,r.jsx)(y.A,{onClose:l,severity:t?"error":"success",sx:{width:"100%"},children:t||e})})}function C(){return(0,r.jsx)(s.default,{direction:"row",alignItems:"center",spacing:2,children:(0,r.jsx)(i.default,{variant:"h6",children:"Boston"})})}function z(){let{selectedCompany:e,setSelectedCompany:t}=(0,g.M)(),{companiesInfo:n,fetchCompaniesToSelect:a,companyCreated:i}=(0,v.P)(),p=async e=>{try{t(e);let n=await fetch(`${j.A.API_URL}/companies/${e}`,{method:"GET",credentials:"include"});return await n.json()}catch(e){console.log("Fallo al buscar empresas:",e)}},h=(0,l.A)("(max-width:600px)");return(0,r.jsxs)(s.default,{direction:"row",alignItems:"center",spacing:2,children:[(0,r.jsxs)(o.A,{fullWidth:!0,size:"small",children:[(0,r.jsx)(d.A,{id:"company",children:"Empresa"}),(0,r.jsx)(c.A,{name:e,labelId:"company",id:"selectCompany",value:e||"",label:"Empresa",onChange:e=>{p(e.target.value)},sx:{width:h?"120px":"200px"},children:n.length>0?n.map(e=>(0,r.jsx)(u.A,{value:e.id,children:e.name},e.id)):(0,r.jsx)(u.A,{value:"",children:"No hay empresas disponibles"})})]}),(0,r.jsx)(m.H,{})]})}function w({toolbarButtonAction:e}){return(0,r.jsx)(h.s,{children:(0,r.jsx)(s.default,{children:e?(0,r.jsxs)(p.A,{variant:"contained",onClick:e.action,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:1},children:[e.label,e.icon]}):null})})}function P(){let{toolbarButtonAction:e}=(0,g.M)(),t=(0,a.useCallback)(()=>(0,r.jsx)(w,{toolbarButtonAction:e}),[e]);return(0,r.jsx)(x.z,{slots:{toolbar:t}})}function D({children:e}){let t=(0,a.useCallback)(()=>(0,r.jsx)(P,{}),[]),{snackbarMessage:n,snackbarErrorMessage:s,openSnackbar:i}=(0,g.M)();return(0,r.jsx)(f.N,{defaultSidebarCollapsed:!0,slots:{appTitle:C,toolbarActions:z},children:(0,r.jsxs)(b.L,{slots:{header:t},children:[e,(0,r.jsx)(A,{open:i,message:n,errorMessage:s})]})})}},52433:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(45512),a=n(58009),s=n(51323),i=n(92627),l=n(53333),o=n(26680),d=n(45916),c=n(38031),u=n(46720),p=n(35357),m=n(70510),h=n(74167),x=n(11895),f=n(55648),b=n(65601);function v({fields:e,values:t={},onChange:n,errors:v={},successMessage:g,errorMessage:j}){let[_,y]=(0,a.useState)(!1);return(0,r.jsx)(s.default,{component:"form",sx:{height:"100%",width:"100%",margin:"0 auto",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,r.jsxs)(i.default,{spacing:2,sx:{mt:2},children:[e.map((e,a)=>(0,r.jsx)(i.default,{children:(()=>{switch(e.component){case"select":return(0,r.jsxs)(l.A,{fullWidth:!0,children:[(0,r.jsx)(o.A,{children:e.label}),(0,r.jsx)(d.A,{name:e.name,label:e.label,value:t[e.name]||"",onChange:t=>n(e.name,t.target.value),required:e.required??!1,children:e.options?.map((e,t)=>r.jsx(c.A,{value:e.id,children:e.label},e.id??t))}),v&&v[e.name]&&(0,r.jsx)(u.A,{children:v[e.name]})]});case"date":return(0,r.jsx)(x.l,{label:e.label,value:t[e.name]??null,defaultValue:"",onChange:t=>n(e.name,t?t.toString():""),slotProps:{textField:{error:!!v[e.name],helperText:v[e.name]??""}}});default:return(0,r.jsx)(p.A,{fullWidth:!0,type:_?"text":e.type??"text",label:e.label,name:e.name,required:e.required??!1,value:t[e.name]??"",onChange:t=>n(e.name,t.target.value),error:!!v[e.name],helperText:v[e.name]??"",slotProps:{input:{endAdornment:"password"===e.type&&(0,r.jsx)(m.A,{onClick:()=>y(!_),children:_?(0,r.jsx)(f.A,{}):(0,r.jsx)(b.A,{})})}}})}})()},e.name??a)),(0,r.jsx)(h.default,{children:g}),(0,r.jsx)(h.default,{children:j})]})})}},18644:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(45512),a=n(58009),s=n(93337),i=n(69297),l=n(12790),o=n(3247),d=n(92627),c=n(74167),u=n(51323),p=n(70510),m=n(52433),h=n(71066);function x({steps:e,onFinish:t}){let{errorMessage:n}=(0,h.P)(),[x,f]=(0,a.useState)(0),[b,v]=(0,a.useState)({}),g=()=>{v({});let n=e[x];if(n?.schema&&n?.values){let e=n.schema.safeParse(n.values);if(!e.success){let t={};e.error.issues.forEach(e=>{t[e.path[0]]=e.message}),v(t);return}}v({}),x<e.length-1?f(e=>e+1):t&&t()},j=()=>{v({}),f(e=>e-1)};return(0,r.jsx)(s.A,{activeStep:x,orientation:"vertical",children:e.map((t,a)=>(0,r.jsxs)(i.A,{children:[(0,r.jsx)(l.A,{children:t.label}),(0,r.jsx)(o.A,{children:(0,r.jsxs)(d.default,{spacing:2,children:[t.description&&(0,r.jsx)(c.default,{children:t.description}),t.fields&&t.values&&t.setValues&&(0,r.jsx)(m.A,{fields:t.fields,values:t.values,onChange:(e,n)=>{t.setValues(t=>({...t,[e]:n}))},errors:b,errorMessage:n}),t.content&&t.content,(0,r.jsxs)(u.default,{children:[a<e.length-1?(0,r.jsx)(p.A,{variant:"contained",onClick:g,children:"Siguiente"}):(0,r.jsx)(p.A,{variant:"contained",onClick:g,children:"Finalizar"}),a>0&&(0,r.jsx)(p.A,{sx:{ml:2},onClick:j,children:"Atr\xe1s"})]})]})})]},a))})}},6015:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\eleya\\\\Desktop\\\\develop\\\\Boston\\\\frontend\\\\src\\\\app\\\\(panel)\\\\estudiantes\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\eleya\\Desktop\\develop\\Boston\\frontend\\src\\app\\(panel)\\estudiantes\\page.jsx","default")},78198:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\eleya\\\\Desktop\\\\develop\\\\Boston\\\\frontend\\\\src\\\\app\\\\(panel)\\\\layout.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\eleya\\Desktop\\develop\\Boston\\frontend\\src\\app\\(panel)\\layout.jsx","default")},70440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[638,894,77,19,87,174,390,592,88],()=>n(84449));module.exports=r})();