(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{19886:(e,a,t)=>{Promise.resolve().then(t.bind(t,67071))},44026:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});let n=(()=>{let e=window.location.hostname;return e.includes("sistema-test.bostoncelop.com.ar")?{API_URL:"http://api.sistema-test.bostoncelop.com.ar/api"}:e.includes("sistema.bostoncelop.com.ar")?{API_URL:"https://api.sistema.bostoncelop.com.ar/api"}:{API_URL:"http://localhost:3000/api"}})()},67071:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var n=t(95155),l=t(12115),s=t(76046),i=t(32371),r=t(10979),o=t(9561),d=t(78562),u=t(22282),c=t(44026);function h(){let e=(0,s.useRouter)(),[a,t]=(0,l.useState)(!1),[h,m]=(0,l.useState)(!1),[p,x]=(0,l.useState)({}),[f,v]=(0,l.useState)({email:"",password:""}),j=async()=>{m(""),t(""),x({});try{let a=await fetch("".concat(c.A.API_URL,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)});if(!a.ok){let e=await a.json();if(Array.isArray(e)){let a=e.reduce((e,a)=>(e[a.path[0]]=a.message,e),{});x(a)}else m(e.message||"Error desconocido");return}let n=await a.json();t(n.message),e.push("/")}catch(e){m(e.message),console.error("Error al loguear: ",e)}};return(0,n.jsxs)(r.default,{sx:{height:"100%",width:"100%",maxWidth:500,display:"flex",direction:"column",justifyContent:"center",gap:"20px"},children:[(0,n.jsxs)(r.default,{spacing:1,children:[(0,n.jsx)(o.default,{variant:"h4",children:"Bienvenidos"}),(0,n.jsx)(o.default,{variant:"p",children:"Inicia sesi\xf3n con tus credenciales para poder continuar."})]}),(0,n.jsxs)(d.A,{elevation:4,square:!1,sx:{height:"60%",width:"100%",display:"flex",flexDirection:"column",p:2,gap:2,maxWidth:500,maxHeight:600,overflowY:"auto",scrollbarWidth:"thin"},children:[(0,n.jsx)(o.default,{variant:"h4",children:"Iniciar Sesi\xf3n"}),(0,n.jsx)(i.A,{fields:[{name:"email",label:"Email",type:"email",required:!0},{name:"password",label:"Contrase\xf1a",type:"password",required:!0}],values:f,errors:p,successMessage:a,errorMessage:h,onChange:(e,a)=>{v(t=>({...t,[e]:a}))}}),(0,n.jsx)(u.A,{variant:"contained",onClick:j,children:"Iniciar sesi\xf3n"})]})]})}},32371:(e,a,t)=>{"use strict";t.d(a,{A:()=>j});var n=t(95155),l=t(12115),s=t(68998),i=t(10979),r=t(22678),o=t(90507),d=t(83774),u=t(91888),c=t(16508),h=t(39905),m=t(22282),p=t(9561),x=t(20719),f=t(31798),v=t(9313);function j(e){let{fields:a,values:t={},onChange:j,errors:g={},successMessage:A,errorMessage:b}=e,[w,y]=(0,l.useState)(!1);return(0,n.jsx)(s.default,{component:"form",sx:{height:"100%",width:"100%",margin:"0 auto",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,n.jsxs)(i.default,{spacing:2,sx:{mt:2},children:[a.map((e,a)=>{var l;return(0,n.jsx)(i.default,{children:(()=>{var a,l,s,i,p,A,b,C;switch(e.component){case"select":return(0,n.jsxs)(r.A,{fullWidth:!0,children:[(0,n.jsx)(o.A,{children:e.label}),(0,n.jsx)(d.A,{name:e.name,label:e.label,value:t[e.name]||"",onChange:a=>j(e.name,a.target.value),required:null!==(l=e.required)&&void 0!==l&&l,children:null===(a=e.options)||void 0===a?void 0:a.map((e,a)=>{var t;return(0,n.jsx)(u.A,{value:e.id,children:e.label},null!==(t=e.id)&&void 0!==t?t:a)})}),g&&g[e.name]&&(0,n.jsx)(c.A,{children:g[e.name]})]});case"date":return(0,n.jsx)(x.l,{label:e.label,value:null!==(s=t[e.name])&&void 0!==s?s:null,defaultValue:"",onChange:a=>j(e.name,a?a.toString():""),slotProps:{textField:{error:!!g[e.name],helperText:null!==(i=g[e.name])&&void 0!==i?i:""}}});default:return(0,n.jsx)(h.A,{fullWidth:!0,type:w?"text":null!==(p=e.type)&&void 0!==p?p:"text",label:e.label,name:e.name,required:null!==(A=e.required)&&void 0!==A&&A,value:null!==(b=t[e.name])&&void 0!==b?b:"",onChange:a=>j(e.name,a.target.value),error:!!g[e.name],helperText:null!==(C=g[e.name])&&void 0!==C?C:"",slotProps:{input:{endAdornment:"password"===e.type&&(0,n.jsx)(m.A,{onClick:()=>y(!w),children:w?(0,n.jsx)(f.A,{}):(0,n.jsx)(v.A,{})})}}})}})()},null!==(l=e.name)&&void 0!==l?l:a)}),(0,n.jsx)(p.default,{children:A}),(0,n.jsx)(p.default,{children:b})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[120,735,539,85,724,441,517,358],()=>a(19886)),_N_E=e.O()}]);