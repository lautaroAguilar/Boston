(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{19886:(e,a,n)=>{Promise.resolve().then(n.bind(n,67071))},44026:(e,a,n)=>{"use strict";n.d(a,{A:()=>l});let l={API_URL:n(2818).env.NEXT_PUBLIC_API_URL}},67071:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>h});var l=n(95155),t=n(12115),r=n(76046),i=n(32371),s=n(10979),d=n(9561),o=n(78562),u=n(22282),c=n(44026);function h(){let e=(0,r.useRouter)(),[a,n]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),[x,p]=(0,t.useState)({}),[f,v]=(0,t.useState)({email:"",password:""}),j=async()=>{m(""),n(""),p({});try{let a=await fetch("".concat(c.A.API_URL,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)});if(!a.ok){let e=await a.json();if(Array.isArray(e)){let a=e.reduce((e,a)=>(e[a.path[0]]=a.message,e),{});p(a)}else m(e.message||"Error desconocido");return}let l=await a.json();n(l.message),e.push("/")}catch(e){m(e.message),console.error("Error al loguear: ",e)}};return(0,l.jsxs)(s.default,{sx:{height:"100%",width:"100%",maxWidth:500,display:"flex",direction:"column",justifyContent:"center",gap:"20px"},children:[(0,l.jsxs)(s.default,{spacing:1,children:[(0,l.jsx)(d.default,{variant:"h4",children:"Bienvenidos"}),(0,l.jsx)(d.default,{variant:"p",children:"Inicia sesi\xf3n con tus credenciales para poder continuar."})]}),(0,l.jsxs)(o.A,{elevation:4,square:!1,sx:{height:"60%",width:"100%",display:"flex",flexDirection:"column",p:2,gap:2,maxWidth:500,maxHeight:600,overflowY:"auto",scrollbarWidth:"thin"},children:[(0,l.jsx)(d.default,{variant:"h4",children:"Iniciar Sesi\xf3n"}),(0,l.jsx)(i.A,{fields:[{name:"email",label:"Email",type:"email",required:!0},{name:"password",label:"Contrase\xf1a",type:"password",required:!0}],values:f,errors:x,successMessage:a,errorMessage:h,onChange:(e,a)=>{v(n=>({...n,[e]:a}))}}),(0,l.jsx)(u.A,{variant:"contained",onClick:j,children:"Iniciar sesi\xf3n"})]})]})}},32371:(e,a,n)=>{"use strict";n.d(a,{A:()=>j});var l=n(95155),t=n(12115),r=n(68998),i=n(10979),s=n(22678),d=n(90507),o=n(83774),u=n(91888),c=n(16508),h=n(39905),m=n(22282),x=n(9561),p=n(20719),f=n(31798),v=n(9313);function j(e){let{fields:a,values:n={},onChange:j,errors:g={},successMessage:A,errorMessage:y}=e,[b,w]=(0,t.useState)(!1);return(0,l.jsx)(r.default,{component:"form",sx:{height:"100%",width:"100%",margin:"0 auto",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,l.jsxs)(i.default,{spacing:2,sx:{mt:2},children:[a.map((e,a)=>{var t;return(0,l.jsx)(i.default,{children:(()=>{var a,t,r,i,x,A,y,C;switch(e.component){case"select":return(0,l.jsxs)(s.A,{fullWidth:!0,children:[(0,l.jsx)(d.A,{children:e.label}),(0,l.jsx)(o.A,{name:e.name,label:e.label,value:n[e.name]||"",onChange:a=>j(e.name,a.target.value),required:null!==(t=e.required)&&void 0!==t&&t,children:null===(a=e.options)||void 0===a?void 0:a.map((e,a)=>{var n;return(0,l.jsx)(u.A,{value:e.id,children:e.label},null!==(n=e.id)&&void 0!==n?n:a)})}),g&&g[e.name]&&(0,l.jsx)(c.A,{children:g[e.name]})]});case"date":return(0,l.jsx)(p.l,{label:e.label,value:null!==(r=n[e.name])&&void 0!==r?r:null,defaultValue:"",onChange:a=>j(e.name,a?a.toString():""),slotProps:{textField:{error:!!g[e.name],helperText:null!==(i=g[e.name])&&void 0!==i?i:""}}});default:return(0,l.jsx)(h.A,{fullWidth:!0,type:b?"text":null!==(x=e.type)&&void 0!==x?x:"text",label:e.label,name:e.name,required:null!==(A=e.required)&&void 0!==A&&A,value:null!==(y=n[e.name])&&void 0!==y?y:"",onChange:a=>j(e.name,a.target.value),error:!!g[e.name],helperText:null!==(C=g[e.name])&&void 0!==C?C:"",slotProps:{input:{endAdornment:"password"===e.type&&(0,l.jsx)(m.A,{onClick:()=>w(!b),children:b?(0,l.jsx)(f.A,{}):(0,l.jsx)(v.A,{})})}}})}})()},null!==(t=e.name)&&void 0!==t?t:a)}),(0,l.jsx)(x.default,{children:A}),(0,l.jsx)(x.default,{children:y})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[120,735,539,85,724,441,517,358],()=>a(19886)),_N_E=e.O()}]);