(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{19886:(e,a,l)=>{Promise.resolve().then(l.bind(l,67071))},44026:(e,a,l)=>{"use strict";var n;l.d(a,{A:()=>t});let t={API_URL:null!==(n=l(2818).env.NEXT_PUBLIC_API_URL)&&void 0!==n?n:"http://localhost:3000/api"}},67071:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>h});var n=l(95155),t=l(12115),r=l(76046),i=l(32371),s=l(10979),d=l(9561),o=l(78562),u=l(22282),c=l(44026);function h(){let e=(0,r.useRouter)(),[a,l]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),[p,x]=(0,t.useState)({}),[v,f]=(0,t.useState)({email:"",password:""}),j=async()=>{m(""),l(""),x({});try{let a=await fetch("".concat(c.A.API_URL,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(v)});if(!a.ok){let e=await a.json();if(Array.isArray(e)){let a=e.reduce((e,a)=>(e[a.path[0]]=a.message,e),{});x(a)}else m(e.message||"Error desconocido");return}let n=await a.json();l(n.message),e.push("/")}catch(e){m(e.message),console.error("Error al loguear: ",e)}};return(0,n.jsxs)(s.default,{sx:{height:"100%",width:"100%",maxWidth:500,display:"flex",direction:"column",justifyContent:"center",gap:"20px"},children:[(0,n.jsxs)(s.default,{spacing:1,children:[(0,n.jsx)(d.default,{variant:"h4",children:"Bienvenidos"}),(0,n.jsx)(d.default,{variant:"p",children:"Inicia sesi\xf3n con tus credenciales para poder continuar."})]}),(0,n.jsxs)(o.A,{elevation:4,square:!1,sx:{height:"60%",width:"100%",display:"flex",flexDirection:"column",p:2,gap:2,maxWidth:500,maxHeight:600,overflowY:"auto",scrollbarWidth:"thin"},children:[(0,n.jsx)(d.default,{variant:"h4",children:"Iniciar Sesi\xf3n"}),(0,n.jsx)(i.A,{fields:[{name:"email",label:"Email",type:"email",required:!0},{name:"password",label:"Contrase\xf1a",type:"password",required:!0}],values:v,errors:p,successMessage:a,errorMessage:h,onChange:(e,a)=>{f(l=>({...l,[e]:a}))}}),(0,n.jsx)(u.A,{variant:"contained",onClick:j,children:"Iniciar sesi\xf3n"})]})]})}},32371:(e,a,l)=>{"use strict";l.d(a,{A:()=>j});var n=l(95155),t=l(12115),r=l(68998),i=l(10979),s=l(22678),d=l(90507),o=l(83774),u=l(91888),c=l(16508),h=l(39905),m=l(22282),p=l(9561),x=l(20719),v=l(31798),f=l(9313);function j(e){let{fields:a,values:l={},onChange:j,errors:g={},successMessage:A,errorMessage:y}=e,[b,w]=(0,t.useState)(!1);return(0,n.jsx)(r.default,{component:"form",sx:{height:"100%",width:"100%",margin:"0 auto",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,n.jsxs)(i.default,{spacing:2,sx:{mt:2},children:[a.map((e,a)=>{var t;return(0,n.jsx)(i.default,{children:(()=>{var a,t,r,i,p,A,y,C;switch(e.component){case"select":return(0,n.jsxs)(s.A,{fullWidth:!0,children:[(0,n.jsx)(d.A,{children:e.label}),(0,n.jsx)(o.A,{name:e.name,label:e.label,value:l[e.name]||"",onChange:a=>j(e.name,a.target.value),required:null!==(t=e.required)&&void 0!==t&&t,children:null===(a=e.options)||void 0===a?void 0:a.map((e,a)=>{var l;return(0,n.jsx)(u.A,{value:e.id,children:e.label},null!==(l=e.id)&&void 0!==l?l:a)})}),g&&g[e.name]&&(0,n.jsx)(c.A,{children:g[e.name]})]});case"date":return(0,n.jsx)(x.l,{label:e.label,value:null!==(r=l[e.name])&&void 0!==r?r:null,defaultValue:"",onChange:a=>j(e.name,a?a.toString():""),slotProps:{textField:{error:!!g[e.name],helperText:null!==(i=g[e.name])&&void 0!==i?i:""}}});default:return(0,n.jsx)(h.A,{fullWidth:!0,type:b?"text":null!==(p=e.type)&&void 0!==p?p:"text",label:e.label,name:e.name,required:null!==(A=e.required)&&void 0!==A&&A,value:null!==(y=l[e.name])&&void 0!==y?y:"",onChange:a=>j(e.name,a.target.value),error:!!g[e.name],helperText:null!==(C=g[e.name])&&void 0!==C?C:"",slotProps:{input:{endAdornment:"password"===e.type&&(0,n.jsx)(m.A,{onClick:()=>w(!b),children:b?(0,n.jsx)(v.A,{}):(0,n.jsx)(f.A,{})})}}})}})()},null!==(t=e.name)&&void 0!==t?t:a)}),(0,n.jsx)(p.default,{children:A}),(0,n.jsx)(p.default,{children:y})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[120,735,539,85,724,441,517,358],()=>a(19886)),_N_E=e.O()}]);